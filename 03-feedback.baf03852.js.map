{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,yBAC/BE,EAAUH,SAASC,cAAc,8BAEvCG,OAAOC,iBAAiB,QAExB,WACE,IAAMC,EAAYC,aAAaC,QAAQ,uBACvC,GAAIF,EAAW,CACb,IAAqCG,EAAAC,KAAKC,MAAML,GAAxCM,EAA6BH,EAA7BG,WAAYC,EAAiBJ,EAAjBI,aACfX,EAAMY,QACTZ,EAAMY,MAAQF,GAEXT,EAAQW,QACXX,EAAQW,MAAQD,E,KAKtBd,EAAKM,iBAAiB,QAASU,EAAAlB,GAAEmB,UAEjC,WACE,IAAMJ,EAAaV,EAAMY,MACnBD,EAAeV,EAAQW,MACvBG,EAAW,CAAEL,aAAYC,gBAC/BN,aAAaW,QAAQ,sBAAuBR,KAAKS,UAAUF,G,GANT,MASpDlB,EAAKM,iBAAiB,UAEtB,SAAee,GACbA,EAAIC,iBAEJ,IAAMC,EAAQpB,EAAMY,MACdS,EAAUpB,EAAQW,MAClBG,EAAW,CAAEK,QAAOC,WAC1BC,QAAQC,IAAIR,GAEZf,EAAMY,MAAQ,GACdX,EAAQW,MAAQ,GAEhBP,aAAamB,WAAW,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input[name = \"email\"]');\nconst message = document.querySelector('textarea[name = \"message\"]');\n\nwindow.addEventListener('load', onLoad);\n\nfunction onLoad() {\n  const localData = localStorage.getItem('feedback-form-state');\n  if (localData) {\n    const { emailValue, messageValue } = JSON.parse(localData);\n    if (!email.value) {\n      email.value = emailValue;\n    }\n    if (!message.value) {\n      message.value = messageValue;\n    }\n  }\n}\n\nform.addEventListener('input', _.throttle(saveData, 2000));\n\nfunction saveData() {\n  const emailValue = email.value;\n  const messageValue = message.value;\n  const feedback = { emailValue, messageValue };\n  localStorage.setItem('feedback-form-state', JSON.stringify(feedback));\n}\n\nform.addEventListener('submit', onSub);\n\nfunction onSub(evt) {\n  evt.preventDefault();\n\n  const EMAIL = email.value;\n  const MESSAGE = message.value;\n  const feedback = { EMAIL, MESSAGE };\n  console.log(feedback);\n\n  email.value = '';\n  message.value = '';\n\n  localStorage.removeItem('feedback-form-state');\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","window","addEventListener","localData","localStorage","getItem","ref","JSON","parse","emailValue","messageValue","value","$parcel$interopDefault","throttle","feedback","setItem","stringify","evt","preventDefault","EMAIL","MESSAGE","console","log","removeItem"],"version":3,"file":"03-feedback.baf03852.js.map"}