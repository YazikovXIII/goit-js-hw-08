{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,yBAC/BE,EAAUH,SAASC,cAAc,8BAEvCG,OAAOC,iBAAiB,QAExB,WACE,MAAMC,EAAYC,aAAaC,QAAQ,uBACvC,GAAIF,EAAW,CACb,MAAMG,WAAEA,EAAUC,aAAEA,GAAiBC,KAAKC,MAAMN,GAC3CJ,EAAMW,QACTX,EAAMW,MAAQJ,GAEXN,EAAQU,QACXV,EAAQU,MAAQH,E,KAKtBX,EAAKM,iBAAiB,QAASS,EAAAjB,GAAEkB,UAEjC,WACE,MAAMN,EAAaP,EAAMW,MACnBH,EAAeP,EAAQU,MACvBG,EAAW,C,WAAEP,E,aAAYC,GAC/BH,aAAaU,QAAQ,sBAAuBN,KAAKO,UAAUF,G,GANT,MASpDjB,EAAKM,iBAAiB,UAEtB,SAAec,GACbA,EAAIC,iBAEJ,MAAMC,EAAQnB,EAAMW,MACdS,EAAUnB,EAAQU,MAClBG,EAAW,C,MAAEK,E,QAAOC,GAC1BC,QAAQC,IAAIR,GAEZd,EAAMW,MAAQ,GACdV,EAAQU,MAAQ,GAEhBN,aAAakB,WAAW,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst email = document.querySelector('input[name = \"email\"]');\nconst message = document.querySelector('textarea[name = \"message\"]');\n\nwindow.addEventListener('load', onLoad);\n\nfunction onLoad() {\n  const localData = localStorage.getItem('feedback-form-state');\n  if (localData) {\n    const { emailValue, messageValue } = JSON.parse(localData);\n    if (!email.value) {\n      email.value = emailValue;\n    }\n    if (!message.value) {\n      message.value = messageValue;\n    }\n  }\n}\n\nform.addEventListener('input', _.throttle(saveData, 2000));\n\nfunction saveData() {\n  const emailValue = email.value;\n  const messageValue = message.value;\n  const feedback = { emailValue, messageValue };\n  localStorage.setItem('feedback-form-state', JSON.stringify(feedback));\n}\n\nform.addEventListener('submit', onSub);\n\nfunction onSub(evt) {\n  evt.preventDefault();\n\n  const EMAIL = email.value;\n  const MESSAGE = message.value;\n  const feedback = { EMAIL, MESSAGE };\n  console.log(feedback);\n\n  email.value = '';\n  message.value = '';\n\n  localStorage.removeItem('feedback-form-state');\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$email","$945622fd0f572e60$var$message","window","addEventListener","localData","localStorage","getItem","emailValue","messageValue","JSON","parse","value","$parcel$interopDefault","throttle","feedback","setItem","stringify","evt","preventDefault","EMAIL","MESSAGE","console","log","removeItem"],"version":3,"file":"03-feedback.5877b5a7.js.map"}